{
	"name": "menu",
	"events": [
		{
			"eventType": "variable",
			"name": "gamepad_in_use",
			"type": "string",
			"initialValue": "/",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 285792798641753
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Info",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-tick",
							"objectClass": "System",
							"sid": 931336174910751
						}
					],
					"actions": [
						{
							"id": "set-text",
							"objectClass": "menu_debug",
							"sid": 161171501650166,
							"parameters": {
								"text": "\"Mandos conectados: \" & Gamepad.GamepadCount & newline"
							}
						}
					],
					"sid": 465682349115706
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "gamepads-are-supported",
							"objectClass": "Gamepad",
							"sid": 472009046818599
						}
					],
					"actions": [
						{
							"id": "set-text",
							"objectClass": "menu_gamepad_debug",
							"sid": 738291971053760,
							"parameters": {
								"text": "\"Soporte para mandos OK\""
							}
						}
					],
					"sid": 290516381576681
				}
			],
			"sid": 989580447455776
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 835029512138918
				}
			],
			"actions": [
				{
					"id": "add-key",
					"objectClass": "gamepad_selection",
					"sid": 451378183374390,
					"parameters": {
						"key": "\"player0_character\"",
						"value": "\"\""
					}
				},
				{
					"id": "add-key",
					"objectClass": "gamepad_selection",
					"sid": 871355382205296,
					"parameters": {
						"key": "\"player1_character\"",
						"value": "\"\""
					}
				},
				{
					"id": "add-key",
					"objectClass": "gamepad_selection",
					"sid": 799897184608363,
					"parameters": {
						"key": "\"player0_ready\"",
						"value": "0"
					}
				},
				{
					"id": "add-key",
					"objectClass": "gamepad_selection",
					"sid": 596777619003764,
					"parameters": {
						"key": "\"player1_ready\"",
						"value": "0"
					}
				}
			],
			"sid": 151995379490177
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Gamepad selector",
			"description": "Starts disabled",
			"isActiveOnStart": false,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "has-key",
							"objectClass": "gamepad_selection",
							"sid": 623325174703831,
							"parameters": {
								"key": "\"player0_gamepad_index\""
							}
						},
						{
							"id": "has-key",
							"objectClass": "gamepad_selection",
							"sid": 247296346661041,
							"parameters": {
								"key": "\"player1_gamepad_index\""
							}
						},
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 270520942214834
						}
					],
					"actions": [
						{
							"id": "set-group-active",
							"objectClass": "System",
							"sid": 450670041842020,
							"parameters": {
								"group-name": "\"Character selector\"",
								"state": "activated"
							}
						}
					],
					"sid": 225569969156606
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-button-pressed",
							"objectClass": "Gamepad",
							"sid": 646280654205457,
							"parameters": {
								"gamepad": "0",
								"button": "button-a"
							}
						}
					],
					"actions": [
						{
							"callFunction": "savePlayerGamepad",
							"sid": 356376438425451,
							"parameters": [
								"0"
							]
						}
					],
					"sid": 782795273122003
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-button-pressed",
							"objectClass": "Gamepad",
							"sid": 937033428935756,
							"parameters": {
								"gamepad": "1",
								"button": "button-a"
							}
						}
					],
					"actions": [
						{
							"callFunction": "savePlayerGamepad",
							"sid": 466324066571664,
							"parameters": [
								"1"
							]
						}
					],
					"sid": 980217823138469
				},
				{
					"functionName": "savePlayerGamepad",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionParameters": [
						{
							"name": "index",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 900299474148466
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 189398752734386,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "test-regex",
									"objectClass": "System",
									"sid": 848497518533955,
									"parameters": {
										"string": "gamepad_in_use",
										"regex": "str(index)",
										"flags": "\"gi\""
									},
									"isInverted": true
								}
							],
							"actions": [],
							"sid": 711814314233123,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "has-key",
											"objectClass": "gamepad_selection",
											"sid": 224469464740421,
											"parameters": {
												"key": "\"player0_gamepad_index\""
											}
										},
										{
											"id": "has-key",
											"objectClass": "gamepad_selection",
											"sid": 401894063788275,
											"parameters": {
												"key": "\"player1_gamepad_index\""
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "add-key",
											"objectClass": "gamepad_selection",
											"sid": 370727394052329,
											"parameters": {
												"key": "\"player1_gamepad_index\"",
												"value": "index"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 315117795261361,
											"parameters": {
												"variable": "gamepad_in_use",
												"value": "gamepad_in_use & \"/\" & index"
											}
										}
									],
									"sid": 418750011490115,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-by-evaluate",
													"objectClass": "System",
													"sid": 429467510626784,
													"parameters": {
														"object": "menu_gamepad_selector",
														"expression": "menu_gamepad_selector.player = 1"
													}
												}
											],
											"actions": [
												{
													"id": "set-animation",
													"objectClass": "menu_gamepad_selector",
													"sid": 280181505723271,
													"parameters": {
														"animation": "\"player1_ok\"",
														"from": "beginning"
													}
												}
											],
											"sid": 545321769335586
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "has-key",
											"objectClass": "gamepad_selection",
											"sid": 733904842450461,
											"parameters": {
												"key": "\"player0_gamepad_index\""
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "add-key",
											"objectClass": "gamepad_selection",
											"sid": 198418293690071,
											"parameters": {
												"key": "\"player0_gamepad_index\"",
												"value": "index"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 270692856701854,
											"parameters": {
												"variable": "gamepad_in_use",
												"value": "gamepad_in_use & \"/\" & index"
											}
										}
									],
									"sid": 179049611886943,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-by-evaluate",
													"objectClass": "System",
													"sid": 199826207657880,
													"parameters": {
														"object": "menu_gamepad_selector",
														"expression": "menu_gamepad_selector.player = 0"
													}
												}
											],
											"actions": [
												{
													"id": "set-animation",
													"objectClass": "menu_gamepad_selector",
													"sid": 236777534409315,
													"parameters": {
														"animation": "\"player0_ok\"",
														"from": "beginning"
													}
												}
											],
											"sid": 746941256877003
										}
									]
								}
							]
						}
					]
				}
			],
			"sid": 363805874921494
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Character selector",
			"description": "Starts disabled",
			"isActiveOnStart": false,
			"children": [
				{
					"eventType": "variable",
					"name": "menu_character_selector_max",
					"type": "number",
					"initialValue": "2",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 471659667212519
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "has-key",
							"objectClass": "gamepad_selection",
							"sid": 264312336319998,
							"parameters": {
								"key": "\"player0_ready\""
							}
						},
						{
							"id": "has-key",
							"objectClass": "gamepad_selection",
							"sid": 358171769312306,
							"parameters": {
								"key": "\"player1_ready\""
							}
						},
						{
							"id": "compare-value",
							"objectClass": "gamepad_selection",
							"sid": 193095172925957,
							"parameters": {
								"key": "\"player0_ready\"",
								"comparison": 1,
								"value": "0"
							}
						},
						{
							"id": "compare-value",
							"objectClass": "gamepad_selection",
							"sid": 540035987951709,
							"parameters": {
								"key": "\"player1_ready\"",
								"comparison": 1,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 809235400197640,
							"parameters": {
								"seconds": "0.5"
							}
						},
						{
							"callFunction": "goToView",
							"sid": 255616860379711,
							"parameters": [
								"MN_VIEW_MATCH"
							]
						}
					],
					"sid": 565014660762583
				},
				{
					"functionName": "requestCharIndex",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "number",
					"functionParameters": [
						{
							"name": "current_index",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 310630029495946
						},
						{
							"name": "direction",
							"type": "string",
							"initialValue": "",
							"comment": "",
							"sid": 850952917927086
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 788965640903822,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 440944087148456,
									"parameters": {
										"first-value": "direction",
										"comparison": 0,
										"second-value": "\"\""
									}
								}
							],
							"actions": [
								{
									"id": "set-function-return-value",
									"objectClass": "Functions",
									"sid": 245930128529074,
									"parameters": {
										"value": "current_index"
									}
								}
							],
							"sid": 834506766211063
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 871286480371863,
									"parameters": {
										"first-value": "direction",
										"comparison": 0,
										"second-value": "\"left\""
									}
								}
							],
							"actions": [
								{
									"id": "set-function-return-value",
									"objectClass": "Functions",
									"sid": 508903862145289,
									"parameters": {
										"value": "current_index - 1 < 0 ? menu_character_selector_max : current_index - 1"
									}
								}
							],
							"sid": 262663848104677
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 385967484178743,
									"parameters": {
										"first-value": "direction",
										"comparison": 0,
										"second-value": "\"right\""
									}
								}
							],
							"actions": [
								{
									"id": "set-function-return-value",
									"objectClass": "Functions",
									"sid": 214583970350511,
									"parameters": {
										"value": "current_index + 1 > menu_character_selector_max ? 0 : current_index + 1"
									}
								}
							],
							"sid": 476765037411738
						}
					]
				},
				{
					"functionName": "updateChar",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionParameters": [
						{
							"name": "side",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 159072241109494
						},
						{
							"name": "char_name",
							"type": "string",
							"initialValue": "",
							"comment": "",
							"sid": 777198007171420
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 777125688984385,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-evaluate",
									"objectClass": "System",
									"sid": 525727430111767,
									"parameters": {
										"object": "menu_char_name",
										"expression": "menu_char_name.side = side"
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "menu_char_name",
									"sid": 884708254465592,
									"parameters": {
										"text": "char_name"
									}
								}
							],
							"sid": 196669701948963
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-evaluate",
									"objectClass": "System",
									"sid": 452541212065426,
									"parameters": {
										"object": "menu_char_portrait_big",
										"expression": "menu_char_portrait_big.side = side"
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "menu_char_portrait_big",
									"sid": 294963094089710,
									"parameters": {
										"animation": "char_name",
										"from": "beginning"
									}
								}
							],
							"sid": 975200158342268
						}
					]
				},
				{
					"functionName": "saveCharKey",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionParameters": [
						{
							"name": "side",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 265560923834839
						},
						{
							"name": "char_name",
							"type": "string",
							"initialValue": "",
							"comment": "",
							"sid": 290384171490057
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-key",
							"objectClass": "gamepad_selection",
							"sid": 635449527420423,
							"parameters": {
								"key": "\"player\"& str(side) &\"_character\"",
								"value": "char_name"
							}
						}
					],
					"sid": 858022206254489
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-by-evaluate",
							"objectClass": "System",
							"sid": 454643964112642,
							"parameters": {
								"object": "menu_char_portrait",
								"expression": "menu_char_portrait.side = 0 & menu_char_portrait.index = 0"
							}
						},
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 951602883469035
						}
					],
					"actions": [
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 170721246903051,
							"parameters": {
								"object-to-create": "menu_char_selector",
								"layer": "\"main\"",
								"x": "menu_char_portrait.X + (menu_char_portrait.Width / 2)",
								"y": "menu_char_portrait.ImagePointY(\"corner\")"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "menu_char_selector",
							"sid": 979811091008670,
							"parameters": {
								"instance-variable": "side",
								"value": "0"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "menu_char_selector",
							"sid": 219068628785810,
							"parameters": {
								"instance-variable": "gamepad_index",
								"value": "gamepad_selection.Get(\"player0_gamepad_index\")"
							}
						},
						{
							"callFunction": "updateChar",
							"sid": 457017007109568,
							"parameters": [
								"menu_char_portrait.side",
								"menu_char_portrait.character"
							]
						},
						{
							"callFunction": "saveCharKey",
							"sid": 415195728798372,
							"parameters": [
								"menu_char_portrait.side",
								"menu_char_portrait.character"
							]
						}
					],
					"sid": 302126406978107
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-by-evaluate",
							"objectClass": "System",
							"sid": 115743541131621,
							"parameters": {
								"object": "menu_char_portrait",
								"expression": "menu_char_portrait.side = 1 & menu_char_portrait.index = 0"
							}
						},
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 283238154734969
						}
					],
					"actions": [
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 802108605184596,
							"parameters": {
								"object-to-create": "menu_char_selector",
								"layer": "\"main\"",
								"x": "menu_char_portrait.ImagePointX(\"corner\")",
								"y": "menu_char_portrait.ImagePointY(\"corner\")"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "menu_char_selector",
							"sid": 822832487295686,
							"parameters": {
								"instance-variable": "side",
								"value": "1"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "menu_char_selector",
							"sid": 899787913428465,
							"parameters": {
								"instance-variable": "gamepad_index",
								"value": "gamepad_selection.Get(\"player1_gamepad_index\")"
							}
						},
						{
							"callFunction": "updateChar",
							"sid": 259675688809410,
							"parameters": [
								"menu_char_portrait.side",
								"menu_char_portrait.character"
							]
						},
						{
							"callFunction": "saveCharKey",
							"sid": 658096342588526,
							"parameters": [
								"menu_char_portrait.side",
								"menu_char_portrait.character"
							]
						}
					],
					"sid": 783417080327308
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-tick",
							"objectClass": "System",
							"sid": 202362841613184
						}
					],
					"actions": [],
					"sid": 926619892876338,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each",
									"objectClass": "System",
									"sid": 606529767358717,
									"parameters": {
										"object": "menu_char_selector"
									}
								}
							],
							"actions": [],
							"sid": 748698676788250,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "on-button-pressed",
											"objectClass": "Gamepad",
											"sid": 929867822968907,
											"parameters": {
												"gamepad": "menu_char_selector.gamepad_index",
												"button": "d-pad-left"
											}
										},
										{
											"id": "compare-axis",
											"objectClass": "Gamepad",
											"sid": 487434945132426,
											"parameters": {
												"gamepad": "menu_char_selector.gamepad_index",
												"axis": "left-analog-x-axis",
												"comparison": 2,
												"value": "0"
											}
										}
									],
									"actions": [],
									"sid": 942159918975000,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 280934844504846,
													"parameters": {
														"first-value": "gamepad_selection.Get(\"player\"&str(menu_char_selector.gamepad_index)&\"_ready\")",
														"comparison": 0,
														"second-value": "0"
													}
												},
												{
													"id": "pick-by-evaluate",
													"objectClass": "System",
													"sid": 839495341732291,
													"parameters": {
														"object": "menu_char_portrait",
														"expression": "menu_char_selector.side = menu_char_portrait.side & Functions.requestCharIndex(menu_char_selector.char_index, \"left\") = menu_char_portrait.index"
													}
												},
												{
													"id": "trigger-once-while-true",
													"objectClass": "System",
													"sid": 900481732450029
												}
											],
											"actions": [
												{
													"id": "set-x",
													"objectClass": "menu_char_selector",
													"sid": 828016458223001,
													"parameters": {
														"x": "menu_char_selector.side = 0 ? menu_char_portrait.X + (menu_char_portrait.Width / 2) : menu_char_portrait.ImagePointX(\"corner\")"
													}
												},
												{
													"id": "set-y",
													"objectClass": "menu_char_selector",
													"sid": 340884252746801,
													"parameters": {
														"y": "menu_char_portrait.ImagePointY(\"corner\")"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "menu_char_selector",
													"sid": 354020824786069,
													"parameters": {
														"instance-variable": "char_index",
														"value": "menu_char_portrait.index"
													}
												},
												{
													"callFunction": "updateChar",
													"sid": 355419383785606,
													"parameters": [
														"menu_char_portrait.side",
														"menu_char_portrait.character"
													]
												},
												{
													"callFunction": "saveCharKey",
													"sid": 426297525157168,
													"parameters": [
														"menu_char_portrait.side",
														"menu_char_portrait.character"
													]
												}
											],
											"sid": 206461980438263
										}
									],
									"isOrBlock": true
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "on-button-pressed",
											"objectClass": "Gamepad",
											"sid": 160818906514525,
											"parameters": {
												"gamepad": "menu_char_selector.gamepad_index",
												"button": "d-pad-right"
											}
										},
										{
											"id": "compare-axis",
											"objectClass": "Gamepad",
											"sid": 791970874956099,
											"parameters": {
												"gamepad": "menu_char_selector.gamepad_index",
												"axis": "left-analog-x-axis",
												"comparison": 4,
												"value": "0"
											}
										}
									],
									"actions": [],
									"sid": 862412740872890,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 829099446741792,
													"parameters": {
														"first-value": "gamepad_selection.Get(\"player\"&str(menu_char_selector.gamepad_index)&\"_ready\")",
														"comparison": 0,
														"second-value": "0"
													}
												},
												{
													"id": "pick-by-evaluate",
													"objectClass": "System",
													"sid": 933261118102799,
													"parameters": {
														"object": "menu_char_portrait",
														"expression": "menu_char_selector.side = menu_char_portrait.side & Functions.requestCharIndex(menu_char_selector.char_index, \"right\") = menu_char_portrait.index"
													}
												},
												{
													"id": "trigger-once-while-true",
													"objectClass": "System",
													"sid": 758165634630588
												}
											],
											"actions": [
												{
													"id": "set-x",
													"objectClass": "menu_char_selector",
													"sid": 684779551373164,
													"parameters": {
														"x": "menu_char_selector.side = 0 ? menu_char_portrait.X + (menu_char_portrait.Width / 2) : menu_char_portrait.ImagePointX(\"corner\")"
													}
												},
												{
													"id": "set-y",
													"objectClass": "menu_char_selector",
													"sid": 825676659048915,
													"parameters": {
														"y": "menu_char_portrait.ImagePointY(\"corner\")"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "menu_char_selector",
													"sid": 519582339823788,
													"parameters": {
														"instance-variable": "char_index",
														"value": "menu_char_portrait.index"
													}
												},
												{
													"callFunction": "updateChar",
													"sid": 467060600212840,
													"parameters": [
														"menu_char_portrait.side",
														"menu_char_portrait.character"
													]
												},
												{
													"callFunction": "saveCharKey",
													"sid": 983337882368767,
													"parameters": [
														"menu_char_portrait.side",
														"menu_char_portrait.character"
													]
												}
											],
											"sid": 309085711148155
										}
									],
									"isOrBlock": true
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "on-button-pressed",
											"objectClass": "Gamepad",
											"sid": 508310693254886,
											"parameters": {
												"gamepad": "menu_char_selector.gamepad_index",
												"button": "button-a"
											}
										},
										{
											"id": "pick-by-evaluate",
											"objectClass": "System",
											"sid": 114598726575785,
											"parameters": {
												"object": "menu_gamepad_selector",
												"expression": "menu_gamepad_selector.player = menu_char_selector.side"
											}
										}
									],
									"actions": [
										{
											"id": "set-key",
											"objectClass": "gamepad_selection",
											"sid": 578623922566355,
											"parameters": {
												"key": "\"player\"&str(menu_char_selector.gamepad_index)&\"_ready\"",
												"value": "1"
											}
										},
										{
											"id": "set-animation",
											"objectClass": "menu_gamepad_selector",
											"sid": 298469880051940,
											"parameters": {
												"animation": "\"player\"&str(menu_char_selector.side)&\"_ready\"",
												"from": "beginning"
											}
										}
									],
									"sid": 526870157162481
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "on-button-pressed",
											"objectClass": "Gamepad",
											"sid": 570576826211080,
											"parameters": {
												"gamepad": "menu_char_selector.gamepad_index",
												"button": "button-b"
											}
										},
										{
											"id": "pick-by-evaluate",
											"objectClass": "System",
											"sid": 626522144391124,
											"parameters": {
												"object": "menu_gamepad_selector",
												"expression": "menu_gamepad_selector.player = menu_char_selector.side"
											}
										}
									],
									"actions": [
										{
											"id": "set-key",
											"objectClass": "gamepad_selection",
											"sid": 402480509845920,
											"parameters": {
												"key": "\"player\"&str(menu_char_selector.gamepad_index)&\"_ready\"",
												"value": "0"
											}
										},
										{
											"id": "set-animation",
											"objectClass": "menu_gamepad_selector",
											"sid": 602480869469455,
											"parameters": {
												"animation": "\"player\"&str(menu_char_selector.side)&\"_ok\"",
												"from": "beginning"
											}
										}
									],
									"sid": 356030350238746
								}
							]
						}
					]
				}
			],
			"sid": 244934105290501
		},
		{
			"eventType": "variable",
			"name": "mn_selected_index",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 736896912796692
		},
		{
			"eventType": "variable",
			"name": "mn_max_index",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 571886571584982
		},
		{
			"eventType": "variable",
			"name": "mn_current_view",
			"type": "string",
			"initialValue": "",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 305467735371099
		},
		{
			"eventType": "variable",
			"name": "MN_VIEW_MAIN",
			"type": "string",
			"initialValue": "main",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 154727922645628
		},
		{
			"eventType": "variable",
			"name": "MN_VIEW_CHAR_SELECTOR",
			"type": "string",
			"initialValue": "char_select",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 416337278100750
		},
		{
			"eventType": "variable",
			"name": "MN_VIEW_SETTINGS",
			"type": "string",
			"initialValue": "settings",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 488139975844137
		},
		{
			"eventType": "variable",
			"name": "MN_VIEW_MATCH",
			"type": "string",
			"initialValue": "match",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 592437219342352
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Menu navigation",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "group",
					"disabled": false,
					"title": "Main view buttons",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-button-pressed",
									"objectClass": "Gamepad",
									"sid": 457601400686982,
									"parameters": {
										"gamepad": "0",
										"button": "d-pad-up"
									}
								}
							],
							"actions": [],
							"sid": 660384396560102,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-evaluate",
											"objectClass": "System",
											"sid": 896267429555651,
											"parameters": {
												"object": "menu_main_buttons",
												"expression": "menu_main_buttons.index = (mn_selected_index - 1 < 0 ? mn_max_index : mn_selected_index - 1)"
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 777559828971156,
											"parameters": {
												"variable": "mn_selected_index",
												"value": "mn_selected_index - 1 < 0 ? mn_max_index : mn_selected_index - 1"
											}
										},
										{
											"id": "set-position",
											"objectClass": "menu_main_selector",
											"sid": 890143458945363,
											"parameters": {
												"x": "menu_main_buttons.X",
												"y": "menu_main_buttons.Y"
											}
										}
									],
									"sid": 869991474598482
								}
							],
							"isOrBlock": true
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-button-pressed",
									"objectClass": "Gamepad",
									"sid": 149549578878447,
									"parameters": {
										"gamepad": "0",
										"button": "d-pad-down"
									}
								}
							],
							"actions": [],
							"sid": 844136723719650,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-evaluate",
											"objectClass": "System",
											"sid": 633583195173124,
											"parameters": {
												"object": "menu_main_buttons",
												"expression": "menu_main_buttons.index = (mn_selected_index + 1 > mn_max_index ? 0 : mn_selected_index + 1)"
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 926203847624865,
											"parameters": {
												"variable": "mn_selected_index",
												"value": "mn_selected_index + 1 > mn_max_index ? 0 : mn_selected_index + 1"
											}
										},
										{
											"id": "set-position",
											"objectClass": "menu_main_selector",
											"sid": 680310616177076,
											"parameters": {
												"x": "menu_main_buttons.X",
												"y": "menu_main_buttons.Y"
											}
										}
									],
									"sid": 389999614173779
								}
							],
							"isOrBlock": true
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-button-pressed",
									"objectClass": "Gamepad",
									"sid": 746087795871098,
									"parameters": {
										"gamepad": "0",
										"button": "button-a"
									}
								}
							],
							"actions": [],
							"sid": 413192023355583,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-evaluate",
											"objectClass": "System",
											"sid": 749713605988024,
											"parameters": {
												"object": "menu_main_buttons",
												"expression": "menu_main_buttons.index = mn_selected_index"
											}
										}
									],
									"actions": [
										{
											"callFunction": "goToView",
											"sid": 253401169712585,
											"parameters": [
												"menu_main_buttons.view"
											]
										}
									],
									"sid": 222435502454770
								}
							],
							"isOrBlock": true
						}
					],
					"sid": 338565884957803
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 365467704701079
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 465264225090242,
							"parameters": {
								"variable": "mn_max_index",
								"value": "menu_main_buttons.Count - 1"
							}
						}
					],
					"sid": 629152261259920
				},
				{
					"functionName": "goToView",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionParameters": [
						{
							"name": "view",
							"type": "string",
							"initialValue": "",
							"comment": "",
							"sid": 774609008386955
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 610250546241747,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 978415494938081,
									"parameters": {
										"first-value": "view",
										"comparison": 0,
										"second-value": "MN_VIEW_MAIN"
									}
								}
							],
							"actions": [
								{
									"id": "scroll-to-position",
									"objectClass": "System",
									"sid": 866352186942563,
									"parameters": {
										"x": "320",
										"y": "180"
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 268723469214723,
									"parameters": {
										"group-name": "\"Gamepad selector\"",
										"state": "deactivated"
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 920516609850083,
									"parameters": {
										"group-name": "\"Character selector\"",
										"state": "deactivated"
									}
								}
							],
							"sid": 675933258663181
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 310533593220018,
									"parameters": {
										"first-value": "view",
										"comparison": 0,
										"second-value": "MN_VIEW_CHAR_SELECTOR"
									}
								}
							],
							"actions": [
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 299397616814714,
									"parameters": {
										"group-name": "\"Gamepad selector\"",
										"state": "activated"
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 872637533343911,
									"parameters": {
										"group-name": "\"Main view buttons\"",
										"state": "deactivated"
									}
								},
								{
									"id": "scroll-to-position",
									"objectClass": "System",
									"sid": 321330185013604,
									"parameters": {
										"x": "960",
										"y": "180"
									}
								}
							],
							"sid": 219011862110773
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 946976193510605,
									"parameters": {
										"first-value": "view",
										"comparison": 0,
										"second-value": "MN_VIEW_SETTINGS"
									}
								}
							],
							"actions": [
								{
									"id": "scroll-to-position",
									"objectClass": "System",
									"sid": 929644072501827,
									"parameters": {
										"x": "320",
										"y": "180"
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 880093006350302,
									"parameters": {
										"group-name": "\"Gamepad selector\"",
										"state": "deactivated"
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 854195026129474,
									"parameters": {
										"group-name": "\"Character selector\"",
										"state": "deactivated"
									}
								}
							],
							"sid": 438787810116614
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 652217432077881,
									"parameters": {
										"first-value": "view",
										"comparison": 0,
										"second-value": "MN_VIEW_MATCH"
									}
								}
							],
							"actions": [
								{
									"id": "go-to-layout",
									"objectClass": "System",
									"sid": 959397598899732,
									"parameters": {
										"layout": "main"
									}
								}
							],
							"sid": 500913286182533
						}
					]
				}
			],
			"sid": 568021957474665
		}
	],
	"sid": 526329472040805
}